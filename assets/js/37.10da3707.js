(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{381:function(t,e,i){"use strict";i.r(e);var o=i(283),n=i(281),a=i(285),s=i(317),r={data:()=>({playerConfig:{},popupAdObject:null,rolling:null}),created(){},mounted(){const t=this.$lang.indexOf("en")>-1?"Screenshot":"æˆªå›¾";this.initCreateDanmaku(),this.playerConfig=Object.assign(s.b,o.a),this.playerConfig.lang=this.$lang.indexOf("en")>-1?"en":"zh-cn",this.playerConfig.custom.footerControls=[{slot:"screenshot",position:"right",tooltip:""+t,oftenShow:!1,style:{},click:function(e){n.a.mp.screenshot({type:"image/png",scale:.5,watermark:{image:"https://muiplayer.oss-cn-shanghai.aliyuncs.com/static/image/logot_hump.png",scale:.3,position:"top-right"},onDone:function(e){let{base64:i,currentTime:o,download:n}=e;n(`${t} ${(new Date).toLocaleString()}`)},onFail:function(t){console.error(t)}})}}];let e=new MuiPlayer(this.playerConfig);n.a.mp=e,Object(a.a)(),n.a.mp.on("ready",()=>{try{this._addWatermark(),this._switchMiniPlayer(),this._createRolling(),n.a.mp.video().addEventListener("pause",()=>{this._popupAdvertise(!0),n.a.CM.stop()}),n.a.mp.video().addEventListener("play",()=>{this._popupAdvertise(!1),n.a.CM.start()}),n.a.mp.on("fullscreen-change",()=>{this.autoscaleComment()})}catch(t){console.error(t)}})},beforeDestroy(){n.a.mp.destroy()},methods:{initCreateDanmaku(){var t=this.$refs.commentStage;n.a.CM=new CommentManager(t),n.a.CM.init()},autoscaleComment(){var t=n.a.CM.stage,e=this.$refs.muiPlayer;this._timeout_1&&clearTimeout(this._timeout_1),this._timeout_1=setTimeout((function(){t.style.height=e.clientHeight-80+"px",n.a.CM.init()}),500)},_createRolling(){var t=this.$lang.indexOf("en")>-1?'<strong style="font-family: æ¥·ä½“"><font color="#ff0000" size="4">Play</font><font color="#FFA700" size="4">&emsp;Focus</font><font color="#6495ED" size="4">&emsp;Connection</font><font size="4">&emsp;Share and free ðŸš©</font></strong>':'<strong style="font-family: æ¥·ä½“"><font color="#ff0000" size="4">æ’­æ”¾</font><font color="#FFA700" size="4">&emsp;ä¸“æ³¨</font><font color="#6495ED" size="4">&emsp;è¿žæŽ¥</font><font size="4">&emsp;åˆ†äº«å’Œè‡ªç”± ðŸš©</font></strong>';this.rolling=new n.a.mp.createRolling(t,{id:"warning",scrollamount:6,scrolldelay:85,loop:-1,style:{paddingBottom:"25px",paddingTop:"25px",textShadow:"0px 0px 3px rgb(0 0 0)"}}),this.rolling.onstart((function(){console.log("Rolling Start...")})),this.rolling.onfinish((function(){console.log("Rolling Finish...")}))},_switchMiniPlayer(t){var e=!1;const i=new IntersectionObserver(i=>{i[0].intersectionRatio<=0&&e?n.a.mp.switchMiniPlayer(t,{width:400,height:"auto",bottom:30,right:"calc(100% - 408px)",keepPlayerLayer:!0,transition:!0,transitionDuration:.35,transitionTiming:"ease"}):(e=!0,n.a.mp.switchMiniPlayer(!1))});i.observe(this.$refs.muiPlayer),n.a.mp.on("destroy",()=>{i.disconnect()})},_addWatermark(){n.a.mp.addWatermark({image:"https://muiplayer.oss-cn-shanghai.aliyuncs.com/static/image/logot_hump.png",scale:.3,position:"top-right"})},_popupAdvertise(t){t?((()=>{var t=document.createElement("img");t.src="https://muiplayer.oss-cn-shanghai.aliyuncs.com/static/image/cover-square.jpg",t.style="object-fit: contain;height: 100%;width: 100%;",t.setAttribute("title","Website"),t.onclick=t=>{t.stopPropagation(),this.$lang.indexOf("en")>-1?window.open("https://github.com/muiplayer/hello-muiplayer"):this.$lang.indexOf("zh")>-1&&window.open("https://gitee.com/muiplayer/hello-muiplayer")},this.popupAdObject=n.a.mp.popupAdvertise({content:t,style:{width:"270px",height:"270px",borderRadius:"7px"}})})(),this.popupAdObject.open()):this.popupAdObject instanceof Object&&this.popupAdObject.close()}}},l=i(20),p=Object(l.a)(r,(function(){var t=this._self._c;return t("main",[t("div",{ref:"muiPlayer",staticClass:"abp",staticStyle:{position:"relative"},attrs:{id:"mui-player"}},[t("div",{ref:"commentStage",staticClass:"container",staticStyle:{"z-index":"1 !important",height:"325px",width:"100%","margin-top":"5px"}}),this._v(" "),t("div",{staticStyle:{display:"none"},attrs:{slot:"screenshot"},slot:"screenshot"},[t("svg",{staticClass:"icon",attrs:{t:"1674055163992",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9448"}},[t("path",{attrs:{d:"M889.472 148.266667a42.666667 42.666667 0 0 1-13.568 58.794666l-282.88 176.725334 171.306667 107.008 2.261333 0.085333a202.666667 202.666667 0 1 1-115.413333 29.781333l-138.624-86.570666-139.178667 86.912a202.666667 202.666667 0 1 1-112.554667-30.293334l171.221334-106.922666-282.794667-176.725334a42.666667 42.666667 0 0 1-15.957333-54.4l2.389333-4.394666a42.666667 42.666667 0 0 1 58.794667-13.568l318.08 198.784 318.122666-198.784a42.666667 42.666667 0 0 1 58.794667 13.568zM266.666667 576a117.333333 117.333333 0 1 0 0 234.666667 117.333333 117.333333 0 0 0 0-234.666667z m490.666666 0a117.333333 117.333333 0 1 0 0 234.666667 117.333333 117.333333 0 0 0 0-234.666667z",fill:"#ffffff","p-id":"9449"}})])])])])}),[],!1,null,"74f2d895",null);e.default=p.exports}}]);